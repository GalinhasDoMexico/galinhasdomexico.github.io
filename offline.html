<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>You are offline</title>
    <link rel="stylesheet" href="/cdn/offline/css/offline.css">
</head>
<body>
<div class="background"></div>
<div id="overlay"></div>
<div id="popup">
    <h1>Isso necessita de internet.</h1>
    <p id="message">Sem internet. Reveja sua conexão.</p>
    <button id="tryAgain">Tentar novamente</button>
    <button id="cancel">Cancelar</button>
</div>
<nav>
<div class="container column">
 <h1>GalinhasDoMexico's Website</h1>
</div>
</nav>
<div class="mainMessage container column">
 <h3>Hello, it looks like you're offline</h3>
 <p>Review your internet connection.</p>
 <button data-id="verificarConexão" id="checksConnection">Check Connection</button>
</div>

<script>
    const checkConnectionButton = document.getElementById('checkConnection');
    const popup = document.getElementById('popup');
    const overlay = document.getElementById('overlay');
    const tryAgainButton = document.getElementById('tryAgain');
    const cancelButton = document.getElementById('cancel');
    const message = document.getElementById('message');

    checkConnectionButton.addEventListener('click', () => {
        overlay.style.display = 'block';
        popup.style.display = 'block';
    });

    tryAgainButton.addEventListener('click', () => {
        // Simulação de verificação de conexão
        const isConnected = navigator.onLine; // Verifica se está online

        if (isConnected) {
            // Obtém o link do atributo data-href
            const href = checkConnectionButton.getAttribute('data-href');
            window.location.href = href; // Redireciona para o link
        } else {
            message.classList.add('error');
        }
    });

    cancelButton.addEventListener('click', () => {
        overlay.style.display = 'none';
        popup.style.display = 'none';
        message.classList.remove('error'); // Remove a classe de erro
    });

    // Fecha o popup se o overlay for clicado
    overlay.addEventListener('click', () => {
        overlay.style.display = 'none';
        popup.style.display = 'none';
        message.classList.remove('error'); // Remove a classe de erro
    });
</script>
<script>
    const checksConnectionButton = document.getElementById('checksConnection');

    checksConnectionButton.addEventListener('click', () => {
        // Verifica se o usuário está online
        const isConnected = navigator.onLine;

        if (isConnected) {
            // Redireciona para a página index.html
            window.location.href = '/'; // Ou 'index.html' se preferir
        } else {
            alert('Você não está conectado à internet.'); // Mensagem de erro
        }
    });
</script>
</body>
</html>
